{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mostafa\\\\OneDrive\\\\Desktop\\\\React project\\\\Final Project\\\\final-pro\\\\src\\\\component\\\\ProductDetails\\\\ProductDetails.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useParams, Navigate } from \"react-router-dom\";\nimport { RotatingLines } from \"react-loader-spinner\";\nimport axios from \"axios\";\nimport { addCart } from \"../../Context/AddProductToCart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProductDetails() {\n  _s();\n  const {\n    addProductToCart\n  } = useContext(addCart);\n  const {\n    id\n  } = useParams();\n  async function addProduct(id) {\n    await addProductToCart(id);\n  }\n  async function getProductDetails() {\n    try {\n      const response = await axios.get(`https://ecommerce.routemisr.com/api/v1/products/${id}`);\n      return response.data.data;\n    } catch (error) {\n      throw new Error(\"Failed to fetch product details\");\n    }\n  }\n  const {\n    isLoading,\n    data,\n    isError\n  } = useQuery(`getProductDetails/${id}`, getProductDetails);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-screen\",\n      children: /*#__PURE__*/_jsxDEV(RotatingLines, {\n        visible: true,\n        height: 96,\n        width: 96,\n        color: \"var(--main-color)\",\n        strokeWidth: 5,\n        animationDuration: 0.75,\n        ariaLabel: \"Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this);\n  }\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 12\n    }, this);\n  }\n  const {\n    title,\n    description,\n    category,\n    price,\n    priceAfterDiscount,\n    imageCover\n  } = data;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\",\n        children: /*#__PURE__*/_jsxDEV(\"figure\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"product-image\",\n            src: imageCover,\n            alt: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"product-title\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"product-description\",\n          children: description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-category\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: category.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"category-image w-100\",\n            style: {\n              height: \"50px\"\n            },\n            src: category.image,\n            alt: category.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-price\",\n          children: priceAfterDiscount ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"discounted-price\",\n              children: [priceAfterDiscount, \" EGP\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"original-price\",\n              children: [price, \" EGP\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [price, \" EGP\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addProduct(id),\n          type: \"button\",\n          className: \"add-to-cart-btn\",\n          children: \"+ Add Product to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductDetails, \"/j5P3UINhVhp1YNFgCfKshWW1i0=\", false, function () {\n  return [useParams, useQuery];\n});\n_c = ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["React","useContext","useQuery","useParams","Navigate","RotatingLines","axios","addCart","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductDetails","_s","addProductToCart","id","addProduct","getProductDetails","response","get","data","error","Error","isLoading","isError","className","children","visible","height","width","color","strokeWidth","animationDuration","ariaLabel","fileName","_jsxFileName","lineNumber","columnNumber","to","title","description","category","price","priceAfterDiscount","imageCover","src","alt","name","style","image","onClick","type","_c","$RefreshReg$"],"sources":["C:/Users/Mostafa/OneDrive/Desktop/React project/Final Project/final-pro/src/component/ProductDetails/ProductDetails.jsx"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { useQuery } from \"react-query\";\r\nimport { useParams, Navigate } from \"react-router-dom\";\r\nimport { RotatingLines } from \"react-loader-spinner\";\r\nimport axios from \"axios\";\r\nimport { addCart } from \"../../Context/AddProductToCart\";\r\n\r\nexport default function ProductDetails() {\r\n  const { addProductToCart } = useContext(addCart);\r\n  const { id } = useParams();\r\n\r\n  async function addProduct(id) {\r\n    await addProductToCart(id);\r\n  }\r\n\r\n  async function getProductDetails() {\r\n    try {\r\n      const response = await axios.get(`https://ecommerce.routemisr.com/api/v1/products/${id}`);\r\n      return response.data.data;\r\n    } catch (error) {\r\n      throw new Error(\"Failed to fetch product details\");\r\n    }\r\n  }\r\n\r\n  const { isLoading, data, isError } = useQuery(\r\n    `getProductDetails/${id}`,\r\n    getProductDetails\r\n  );\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"loading-screen\">\r\n        <RotatingLines\r\n          visible={true}\r\n          height={96}\r\n          width={96}\r\n          color=\"var(--main-color)\"\r\n          strokeWidth={5}\r\n          animationDuration={0.75}\r\n          ariaLabel=\"Loading\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isError) {\r\n    return <Navigate to={\"/Products\"} />;\r\n  }\r\n\r\n  const { title, description, category, price, priceAfterDiscount, imageCover } = data;\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-4\">\r\n          <figure>\r\n            <img\r\n              className=\"product-image\"\r\n              src={imageCover}\r\n              alt={title}\r\n            />\r\n          </figure>\r\n        </div>\r\n        <div className=\"col-md-8\">\r\n          <h1 className=\"product-title\">{title}</h1>\r\n          <h4 className=\"product-description\">{description}</h4>\r\n          <div className=\"product-category\">\r\n            <h4>{category.name}</h4>\r\n            <img\r\n              className=\"category-image w-100\"\r\n              style={{ height: \"50px\" }}\r\n              src={category.image}\r\n              alt={category.name}\r\n            />\r\n          </div>\r\n          <div className=\"product-price\">\r\n            {priceAfterDiscount ? (\r\n              <>\r\n                <span className=\"discounted-price\">{priceAfterDiscount} EGP</span>\r\n                <span className=\"original-price\">{price} EGP</span>\r\n              </>\r\n            ) : (\r\n              <span>{price} EGP</span>\r\n            )}\r\n          </div>\r\n          <button\r\n            onClick={() => addProduct(id)}\r\n            type=\"button\"\r\n            className=\"add-to-cart-btn\"\r\n          >\r\n            + Add Product to Cart\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}